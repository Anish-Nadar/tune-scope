{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TuneScope - Your Musical Toolkit</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}"> <!-- Link to your custom CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth theme transition */
        }
        .gradient-text {
            background-image: linear-gradient(to right, #f97316, #facc15);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .font-playfair {
            font-family: 'Playfair Display', serif;
        }
        .animate-marquee {
            animation: marquee 15s linear infinite;
            width: 100%;
        }
        .animate-marquee2 {
            animation: marquee2 25s linear infinite;
        }
        @keyframes marquee {
          0% { transform: translateX(100%); }
          100% { transform: translateX(-100%); }
        }
        @keyframes marquee2 {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }

        /* Sidebar specific styles */
        .sidebar {
            width: 280px; /* Fixed width for the sidebar */
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
            z-index: 100; /* Ensure it's above other content */
        }
        .sidebar.open {
            transform: translateX(0);
        }
        .backdrop {
            display: none;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 90; /* Below sidebar, above content */
        }
        .backdrop.open {
            display: block;
        }
    </style>
</head>
<body class="bg-stone-950 text-stone-100 antialiased">

    <!-- Sidebar -->
    <div id="sidebar" class="sidebar fixed top-0 left-0 h-full bg-stone-900 shadow-xl p-6 flex flex-col">
        <div class="flex justify-end mb-8">
            <button id="close-sidebar" class="text-stone-400 hover:text-white focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>
        </div>
        <nav class="flex-grow">
            <ul class="space-y-4">
                {% if user.is_authenticated %}
                    <li>
                        <a href="#" class="flex items-center gap-3 p-3 rounded-lg text-stone-300 hover:bg-stone-800 hover:text-white transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                            Hello, {{ user.username }}!
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center gap-3 p-3 rounded-lg text-stone-300 hover:bg-stone-800 hover:text-white transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>
                            Progress
                        </a>
                    </li>
                    <li>
                        <!-- Logout Form -->
                        <form action="{% url 'logout' %}" method="post" class="w-full">
                            {% csrf_token %}
                            <button type="submit" class="flex items-center gap-3 p-3 rounded-lg text-stone-300 hover:bg-stone-800 hover:text-white transition-colors duration-200 w-full text-left focus:outline-none focus:ring-2 focus:ring-stone-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>
                                Logout
                            </button>
                        </form>
                    </li>
                {% else %}
                    <li>
                        <a href="{% url 'login' %}" class="flex items-center gap-3 p-3 rounded-lg text-stone-300 hover:bg-stone-800 hover:text-white transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-in"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" x2="3" y1="12" y2="12"/></svg>
                            Login
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'signup' %}" class="flex items-center gap-3 p-3 rounded-lg text-stone-300 hover:bg-stone-800 hover:text-white transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
                            Sign Up
                        </a>
                    </li>
                {% endif %}
                <li>
                    <button id="theme-toggle" class="flex items-center gap-3 p-3 rounded-lg text-stone-300 hover:bg-stone-800 hover:text-white transition-colors duration-200 w-full text-left">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun-moon"><path d="M12 8a2.83 2.83 0 0 0 4 4 4.95 4.95 0 0 1-1.45 3.55A4 4 0 0 1 8 12a4.95 4.95 0 0 1 3.55-1.45A2.83 2.83 0 0 0 12 8Z"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="M22 12h-2"/><path d="M4 12H2"/><path d="M19.78 4.22 18.36 5.64"/><path d="M5.64 18.36 4.22 19.78"/><path d="M18.36 18.36 19.78 19.78"/><path d="M4.22 4.22 5.64 5.64"/></svg>
                        Theme
                    </button>
                </li>
            </ul>
        </nav>
    </div>

    <!-- Backdrop for sidebar -->
    <div id="backdrop" class="backdrop fixed inset-0"></div>

    <header class="text-center pt-12 md:pt-20 mb-10">
        <div class="container mx-auto px-4 relative">
            <!-- Hamburger menu icon -->
            <button id="open-sidebar" class="absolute top-0 left-4 text-stone-300 hover:text-white focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
            </button>
            <h1 class="text-4xl md:text-6xl font-bold gradient-text mb-2">
                Welcome to TuneScope
            </h1>
        </div>
        <div class="relative flex overflow-x-hidden text-amber-400/80 mt-4 mb-4 w-full">
            <div class="py-2 animate-marquee whitespace-nowrap">
                <span class="text-2xl mx-4">♪</span><span class="text-2xl mx-4">♫</span><span class="text-2xl mx-4">♬</span><span class="text-2xl mx-4">♭</span><span class="text-2xl mx-4">♮</span><span class="text-2xl mx-4">♯</span><span class="text-2xl mx-4">♪</span><span class="text-2xl mx-4">♫</span><span class="text-2xl mx-4">♬</span><span class="text-2xl mx-4">♭</span><span class="text-2xl mx-4">♮</span><span class="text-2xl mx-4">♯</span>
            </div>
        </div>
           <div class="container mx-auto px-4">
            <p class="text-lg md:text-xl text-stone-400 max-w-3xl mx-auto">
                Your all-in-one digital toolkit for musicians. Sharpen your skills, practice with precision, and record your ideas.
            </p>
        </div>
    </header>

    <nav class="container mx-auto px-4 mb-10 text-center max-w-4xl">
        <a href="{% url 'tut' %}" class="block p-6 bg-stone-900/50 rounded-xl shadow-lg border border-transparent hover:bg-stone-800/70 hover:shadow-xl hover:shadow-amber-500/30 hover:border-amber-500/70 transition-all duration-300 ease-in-out transform hover:-translate-y-1">
            <div class="flex items-center gap-6">
                <div class="text-amber-400"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg></div>
                <div class="text-left">
                    <h2 class="text-xl font-semibold text-white mb-1">Tutorials</h2>
                    <p class="text-stone-400">Learn how to use TuneScope's features.</p>
                </div>
            </div>
        </a>
    </nav>
    
    <div class="container mx-auto px-4 pb-12 md:pb-20">
        <main>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <a href="{% url 'pitch' %}" class="block p-6 bg-stone-900/50 rounded-xl shadow-lg border border-transparent hover:bg-stone-800/70 hover:shadow-xl hover:shadow-amber-500/30 hover:border-amber-500/70 transition-all duration-300 ease-in-out transform hover:-translate-y-1">
                    <div class="flex items-center gap-6">
                        <div class="text-amber-400"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg></div>
                        <div>
                            <h2 class="text-xl font-semibold text-white mb-1">Tone Recognition</h2>
                            <p class="text-stone-400">Identify musical notes in real-time.</p>
                        </div>
                    </div>
                </a>
                <a href="{% url 'scale' %}" class="block p-6 bg-stone-900/50 rounded-xl shadow-lg border border-transparent hover:bg-stone-800/70 hover:shadow-xl hover:shadow-amber-500/30 hover:border-amber-500/70 transition-all duration-300 ease-in-out transform hover:-translate-y-1">
                    <div class="flex items-center gap-6">
                        <div class="text-amber-400"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10c0-4.42-2.87-8.17-7-9.54"/><path d="M12 2v20"/><path d="m22 12-5.6-1.4L15 5l-1.4 5.6L8 12l5.6 1.4L15 19l1.4-5.6Z"/></svg></div>
                        <div>
                            <h2 class="text-xl font-semibold text-white mb-1">Scale Identification</h2>
                            <p class="text-stone-400">Discover the scale of a melody.</p>
                        </div>
                    </div>
                </a>
                <a href="{% url 'tuner' %}" class="block p-6 bg-stone-900/50 rounded-xl shadow-lg border border-transparent hover:bg-stone-800/70 hover:shadow-xl hover:shadow-amber-500/30 hover:border-amber-500/70 transition-all duration-300 ease-in-out transform hover:-translate-y-1">
                    <div class="flex items-center gap-6">
                        <div class="text-amber-400"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-gauge"><path d="m12 14 4-4"/><path d="M3.34 19.16a10 10 0 1 1 17.32 0"/><path d="M9.76 21.66 8 22 7 18 9.76 21.66Z"/><path d="M14.34 21.66 16 22l1-4-2.66 3.66Z"/></svg></div>
                        <div>
                            <h2 class="text-xl font-semibold text-white mb-1">Tuner</h2>
                            <p class="text-stone-400">Tune your instrument with precision.</p>
                        </div>
                    </div>
                </a>
                <a href="{% url 'metronome' %}" class="block p-6 bg-stone-900/50 rounded-xl shadow-lg border border-transparent hover:bg-stone-800/70 hover:shadow-xl hover:shadow-amber-500/30 hover:border-amber-500/70 transition-all duration-300 ease-in-out transform hover:-translate-y-1">
                    <div class="flex items-center gap-6">
                        <div class="text-amber-400"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.5 2-19 19"/><path d="M10.2 2.2 4.5 8.4"/><path d="m15.5 7.7 5.7 5.8"/><path d="m11.6 12.8 5.8 5.7"/><path d="m3.8 8.4 7.8 7.8"/></svg></div>
                        <div>
                            <h2 class="text-xl font-semibold text-white mb-1">Metronome</h2>
                            <p class="text-stone-400">Keep perfect time with precision.</p>
                        </div>
                    </div>
                </a>
                <a href="{% url 'record' %}" class="block p-6 bg-stone-900/50 rounded-xl shadow-lg border border-transparent hover:bg-stone-800/70 hover:shadow-xl hover:shadow-amber-500/30 hover:border-amber-500/70 transition-all duration-300 ease-in-out transform hover:-translate-y-1">
                    <div class="flex items-center gap-6">
                        <div class="text-amber-400"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="22"/></svg></div>
                        <div>
                            <h2 class="text-xl font-semibold text-white mb-1">Audio Recorder</h2>
                            <p class="text-stone-400">Capture your musical ideas.</p>
                        </div>
                    </div>
                </a>
                <a href="{% url 'analyzer' %}" class="block p-6 bg-stone-900/50 rounded-xl shadow-lg border border-transparent hover:bg-stone-800/70 hover:shadow-xl hover:shadow-amber-500/30 hover:border-amber-500/70 transition-all duration-300 ease-in-out transform hover:-translate-y-1">
                    <div class="flex items-center gap-6">
                        <div class="text-amber-400"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" x2="12" y1="20" y2="10"/><line x1="18" x2="18" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="16"/></svg></div>
                        <div>
                            <h2 class="text-xl font-semibold text-white mb-1">Audio Analyzer</h2>
                            <p class="text-stone-400">Analyze notes and scales from recordings.</p>
                        </div>
                    </div>
                </a>
            </div>

            <section class="mt-24">
                <div class="bg-gradient-to-br from-amber-900/50 to-orange-900/50 p-8 rounded-2xl border border-amber-500/50 shadow-2xl shadow-amber-500/10 overflow-hidden">
                    <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                        <div class="md:w-1/3">
                            <img src="https://placehold.co/600x600/292524/f59e0b/png?text=ACOUSTIC%0ASHOWCASE&font=playfair" 
                                 alt="Acoustic Showcase Poster"
                                 class="rounded-lg shadow-lg transform hover:scale-105 transition-transform duration-300">
                        </div>
                        <div class="md:w-2/3 text-center md:text-left">
                             <h2 class="text-3xl font-bold text-white mb-2 font-playfair">Featured Event: Acoustic Showcase</h2>
                             <p class="text-amber-200 mb-6">Open Mic Night</p>
                            <p class="text-stone-300 max-w-2xl mb-6">
                                Share your original songs or favorite covers! Join us for a cozy evening of live music on **September 15th, 2025**. Sign-ups are open now. All are welcome to perform or listen!
                            </p>
                            <a href="#" class="inline-block bg-amber-500 text-stone-900 font-bold py-3 px-8 rounded-lg hover:bg-amber-600 transition-colors shadow-md hover:shadow-lg hover:shadow-amber-400/40">Sign Up to Perform</a>
                        </div>
                    </div>
                </div>
            </section>

            <section class="mt-24 text-center">
                <h2 class="text-3xl font-bold text-white mb-4">Why Choose TuneScope?</h2>
                <p class="text-lg text-stone-400 max-w-3xl mx-auto mb-12">
                    We built TuneScope with one goal: to provide powerful, easy-to-use tools that help you grow as a musician.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
                    <div class="bg-stone-900/50 p-6 rounded-lg"><h3 class="text-xl font-semibold text-amber-400 mb-2">Precision & Accuracy</h3><p class="text-stone-400">Our algorithms are finely tuned to give you reliable results, whether you're tuning an instrument or analyzing a complex melody.</p></div>
                    <div class="bg-stone-900/50 p-6 rounded-lg"><h3 class="text-xl font-semibold text-orange-400 mb-2">All-In-One Convenience</h3><p class="text-stone-400">No more switching between apps. From ear training to time-keeping, everything you need for practice is right here.</p></div>
                    <div class="bg-stone-900/50 p-6 rounded-lg"><h3 class="text-xl font-semibold text-yellow-400 mb-2">Free & Accessible</h3><p class="text-stone-400">TuneScope is free to use on any device with a web browser. Start practicing instantly, with no downloads required.</p></div>
                </div>
            </section>
            
            <section class="mt-24 text-center">
                <h2 class="text-3xl font-bold text-white mb-12">What Musicians Are Saying</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-stone-900/50 p-6 rounded-lg text-left flex flex-col"><p class="text-stone-300 italic flex-grow">"The tone recognition is incredibly fast and accurate. It's become an essential part of my daily transcription practice."</p><div class="flex items-center justify-end mt-4"><p class="text-amber-400 font-semibold mr-3">- Alex R., Guitarist</p><img src="https://placehold.co/40x40/f59e0b/1c1917?text=A" class="rounded-full"></div></div>
                    <div class="bg-stone-900/50 p-6 rounded-lg text-left flex flex-col"><p class="text-stone-300 italic flex-grow">"I love the metronome. It's simple, stable, and the tap tempo feature is a lifesaver. Highly recommend!"</p><div class="flex items-center justify-end mt-4"><p class="text-orange-400 font-semibold mr-3">- Maya K., Pianist</p><img src="https://placehold.co/40x40/fb923c/1c1917?text=M" class="rounded-full"></div></div>
                    <div class="bg-stone-900/50 p-6 rounded-lg text-left flex flex-col"><p class="text-stone-300 italic flex-grow">"As a music student, the scale identifier is a fantastic tool for analyzing pieces and improving my theory knowledge."</p><div class="flex items-center justify-end mt-4"><p class="text-yellow-400 font-semibold mr-3">- Ben S., Student</p><img src="https://placehold.co/40x40/facc15/1c1917?text=B" class="rounded-full"></div></div>
                </div>
            </section>

        </main>

        <footer class="text-center mt-24 py-6 border-t border-stone-700">
            <p class="text-stone-500 text-sm">
                This app uses your device's microphone. Results may be affected by background noise.
            </p>
            <p class="text-stone-600 text-xs mt-2">
                &copy; 2025 TuneScope. All Rights Reserved.
            </p>
        </footer>

    </div>

    <script>
        const sidebar = document.getElementById('sidebar');
        const openSidebarBtn = document.getElementById('open-sidebar');
        const closeSidebarBtn = document.getElementById('close-sidebar');
        const backdrop = document.getElementById('backdrop');
        const themeToggleBtn = document.getElementById('theme-toggle');
        const body = document.body;

        // Function to open the sidebar
        function openSidebar() {
            sidebar.classList.add('open');
            backdrop.classList.add('open');
        }

        // Function to close the sidebar
        function closeSidebar() {
            sidebar.classList.remove('open');
            backdrop.classList.remove('open');
        }

        // Event listeners for opening and closing the sidebar
        openSidebarBtn.addEventListener('click', openSidebar);
        closeSidebarBtn.addEventListener('click', closeSidebar);
        backdrop.addEventListener('click', closeSidebar); // Close sidebar when clicking on backdrop

        // Theme toggle functionality
        themeToggleBtn.addEventListener('click', () => {
            if (body.classList.contains('bg-stone-950')) {
                // Switch to light theme
                body.classList.remove('bg-stone-950', 'text-stone-100');
                body.classList.add('bg-stone-100', 'text-stone-950');
            } else {
                // Switch to dark theme
                body.classList.remove('bg-stone-100', 'text-stone-950');
                body.classList.add('bg-stone-950', 'text-stone-100');
            }
        });
    </script>
</body>
</html>
